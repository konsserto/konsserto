###
 * This file is part of the Konsserto package.
 *
 * (c) Jessym Reziga <jessym@konsserto.com>
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
###

# RequestStack
# @author Jessym Reziga <jessym@konsserto.com>
class RequestStack

  # Class Constructor
  constructor: (@translator) ->
    @requests = []

  # Push a new request in the stack
  # @param {Object} request The last request concerned
  push: (request) ->
    @requests.push(request)

  # Pop the request stack
  pop: () ->
    if !@requests
      return null
    @requests.pop()

  # Get the current request
  # @return {Object} The current request or null
  getCurrentRequest: () ->
    len = @requests.length - 1
    if @requests[len]
      return @requests[len]
    return null

  # Get the mast request
  # @return {Object} The master request or null
  getMasterRequest: () ->
    if !@requests
      return null
    return @requests[0]

  # Get the parent request
  # @return {Object} The parent request or null
  getParentRequest: () ->
    pos = @requests.len - 2
    if @requests[pos]
      return null
    return @requests[pos]

module.exports = RequestStack;