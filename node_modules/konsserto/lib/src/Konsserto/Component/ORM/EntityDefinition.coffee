###
 * This file is part of the Konsserto package.
 *
 * (c) Jessym Reziga <jessym@konsserto.com>
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
###

Model = use('@Konsserto/Component/ORM/Model')

#
# EntityDefinition
#
# @author Jessym Reziga <jessym@konsserto.com>
#
class EntityDefinition


	constructor:(@rawFile, @bundle, dirties) ->
		@name = @rawFile.getNameWithoutExtension()
		@logicalPath = @bundle.getName() + ':' + @name
		@_class = @bundle.fetchEntity(@name)
		@model = new Model(@name, @_class, @logicalPath, dirties)

	setName:(@name) ->
		return this

	setClass:(@_class) ->
		return this

	setRawFile:(@rawFile) ->
		return this

	setBundle:(@bundle) ->
		return this

	setLogicalPath:(@logicalPath) ->
		return this

	setModel:(@model) ->
		return this

	getName:() ->
		return @name

	getClass:() ->
		return @_class

	getRawFile:() ->
		return @rawFile

	getBundle:() ->
		return @bundle

	getLogicalPath:() ->
		return @logicalPath

	getPath:() ->
		return @_class._fromUsed

	getModel:() ->
		return @model


module.exports = EntityDefinition