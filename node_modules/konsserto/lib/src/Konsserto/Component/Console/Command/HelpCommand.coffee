###
 * This file is part of the Konsserto package.
 *
 * (c) Jessym Reziga <jessym@konsserto.com>
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
###

Command = use('@Konsserto/Component/Console/Command')
InputArgument = use('@Konsserto/Component/Console/Input/InputArgument')
InputOption = use('@Konsserto/Component/Console/Input/InputOption')

#
# HelpCommand provides help for a given command
#
# @author Jessym Reziga <jessym@konsserto.com>
#
class HelpCommand extends Command


	create:() ->
		@setName('help')
		@setDescription('Displays help for a command')
		@setDefinition([new InputArgument('command_name', InputArgument.OPTIONAL, 'The command name', 'help')])
		@setHelp('  The %command.name% command displays help for a given command:\n  %command.full_name% list\n\n  To display the list of available commands, please use the list command.')

	setCommand:(@command) ->
		return this

	execute:(input) ->

		if @command == undefined
			@command = @getApplication().find(input.getArgument('command_name'))

		@nl()
		@write(@command.getProcessedHelp())
		@command = undefined


module.exports = HelpCommand;