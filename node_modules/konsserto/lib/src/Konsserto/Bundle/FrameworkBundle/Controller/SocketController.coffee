###
 * This file is part of the Konsserto package.
 *
 * (c) Jessym Reziga <jessym@konsserto.com>
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
###

Controller = use('@Konsserto/Bundle/FrameworkBundle/Controller/Controller')

#
# SocketController
#
# @author Jessym Reziga <jessym@konsserto.com>
#
class SocketController extends Controller


	constructor:() ->
		super

	ioRoomJoin:(room) ->
		@request.io.join(room)

	ioRoomBroadcast:(room,event,data = {}) ->
		@request.io.room(room).broadcast(event,data	)

	ioRoomBroadcastAll:(room,event,data = {}) ->
		@app.io.room(room).broadcast(event,data)

	ioSession:() ->
		return @request.session

	ioBroadcast:(event,data = {}) ->
		@request.io.broadcast(event,data)

	ioBroadcastAll:(event,data = {}) ->
		@app.io.broadcast(event,data)

	ioForward:(event) ->
		@request.io.route(event)

	ioEmit:(event,data = {}) ->
		@request.io.emit(event,data)

	ioRespond:(data = {}) ->
		@request.io.respond(data)

	ioSet:(key,value) ->
		@app.io.set(key,value)

	ioData:() ->
		return @request.data


module.exports = SocketController;