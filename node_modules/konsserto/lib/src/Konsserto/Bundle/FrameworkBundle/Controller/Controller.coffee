###
 * This file is part of the Konsserto package.
 *
 * (c) Jessym Reziga <jessym@konsserto.com>
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
###

#
# Controller
#
# @author Jessym Reziga <jessym@konsserto.com>
#
class Controller

  constructor: () ->
    return this

  getRequest: () ->
    return @container.get('Request_Stack').getCurrentRequest()

  getResponse: () ->
    return @response

  setRequest: (@request) ->
    return this

  setResponse: (@response) ->
    return this

  setContainer: (@container) ->
    return this

  getContainer: () ->
    return @container

  getApplication: () ->
    return @application

  setApplication: (@app) ->
    return this

  get: (name)->
    return @container.get(name)

  setNext: (@next) ->
    return this

  render: (view, options)->
    @container.get('Templating').renderResponse(view, options, @getResponse())

  renderView: (view, options)->
    @container.get('Templating').render(view, options)

  generateUrl: (route, parameters, referenceType) ->
    @container.get('Router').generate(route, parameters, referenceType)

  redirect: (url, status = 302)->
    @response.redirect(status, url)

  createForm: (name, data = null, options = {}) ->
    @container.get('Form_Factory').createBuilder(name, data, options)

  createFormBuilder: (data = null, options = {}) ->
    @container.get('Form_Factory').createBuilder('form', data, options)

  has: (name)->
    @container.has(name)

  next: () ->
    return @next


module.exports = Controller;