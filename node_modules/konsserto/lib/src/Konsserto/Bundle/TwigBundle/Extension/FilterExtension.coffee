###
 * This file is part of the Konsserto package.
 *
 * (c) Jessym Reziga <jessym@konsserto.com>
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
###

TwigExtension = use('@Konsserto/Vendor/Twig/Extension/TwigExtension')
TwigFilterMethod = use('@Konsserto/Vendor/Twig/Extension/TwigFilterMethod')

#
# TwigFilterExtension
#
# @author Jessym Reziga <jessym@konsserto.com>
#
class TwigFilterExtension extends TwigExtension

	constructor:(@translator) ->
		super constructor

	getFilters:() =>
		return [
			{name:'trans', access: new TwigFilterMethod(@trans)},
			{name:'echo', access: new TwigFilterMethod(@echo)}
		]

	trans:(id,args)=>
		parameters = args[0] ? null
		domain = args[1] ? null
		locale = args[2] ? null
		return @translator.trans(id,parameters,domain,locale)

	echo:(value,str) =>
		return '<pre>Filtered Value : '+value+' | Echo : '+str+'</pre>'


module.exports = TwigFilterExtension